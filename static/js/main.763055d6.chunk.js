(this.webpackJsonpplaylister=this.webpackJsonpplaylister||[]).push([[0],{85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),s=n.n(c),i=n(6),j=n(100),o=n(102),d=n(11),l=n(52),u=n(99),b=n(87),O=n(16),h=n(53),f=n(26),x=n(14),m=n(1),v=function(e){var t=e.className;return Object(m.jsxs)("div",{className:t,id:"about",children:[Object(m.jsxs)("h1",{children:[Object(m.jsx)(d.a,{icon:f.a})," about"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"mediainfo.js"})," can analyze all kinds of media files for you. It shows technical details and metadata."]}),Object(m.jsxs)("h2",{children:[Object(m.jsx)(d.a,{icon:x.d})," thanks"]}),Object(m.jsxs)("p",{children:["- ",Object(m.jsx)("a",{href:"https://mediaarea.net/en/MediaInfo",children:"mediainfo"})," -"," ",Object(m.jsx)("a",{href:"https://react-dropzone.js.org/",children:"react-dropzone"})," -"," ",Object(m.jsx)("a",{href:"https://fontawesome.com/",children:"font awesome"})]}),Object(m.jsxs)("h2",{children:[Object(m.jsx)(d.a,{icon:x.b})," contact"]}),Object(m.jsxs)("p",{children:["Get in touch on ",Object(m.jsx)("a",{href:"https://github.com/buzz/mediainfo.js",children:"GitHub"}),"."]})]})},p=n(36),g=n.n(p),y=n(41),S=n(42),k=n(19),z=n(10),N=function(e){var t=e.key,n=e.onRestore,a=void 0===n?function(e){return e}:n,c=e.setState,s=e.state;Object(r.useEffect)((function(){c(a(function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return window.localStorage.setItem(e,JSON.stringify({})),{}}return{}}(t)))}),[t,a,c]),Object(r.useEffect)((function(){!function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}(t,s)}),[t,s])},T=n(43),w=n.n(T),E=n(54),I=function(e){var t=e.analyzing,n=e.onDrop,r=Object(E.a)({disabled:t,onDrop:n}),a=r.getRootProps,c=r.getInputProps,s=r.isDragActive;return Object(m.jsx)("div",Object(z.a)(Object(z.a)({id:"dropzone",className:w()("big","center",{dragover:s})},a()),{},{children:t?Object(m.jsxs)("div",{id:"status",className:"hidden",children:[Object(m.jsx)(d.a,{icon:x.a,size:"lg",spin:!0})," Analyzing \u2026"]}):Object(m.jsxs)("div",{id:"dropcontrols",children:[Object(m.jsxs)("div",{id:"dropcontrolstext",children:[Object(m.jsx)(d.a,{icon:f.b,size:"lg"})," Drop media files here",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"small",children:"(or click)"})]}),Object(m.jsx)("input",Object(z.a)({id:"fileinput",type:"file"},c()))]})}))},D=window.MediaInfo,M=function(){return Math.random().toString(36).substr(2,9)},C=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},Object(k.a)({},r,Object(z.a)({},a)))}),{})},R=function(e){var t=e.results,n=e.setResults,a=Object(r.useState)(!1),c=Object(i.a)(a,2),s=c[0],j=c[1];N({key:"results",onRestore:C,setState:n,state:t});var o=Object(r.useCallback)((function(e){var t=function(e,t){return e.analyzeData((function(){return t.size}),function(e){return function(t,n){return new Promise((function(r,a){var c=new FileReader;c.onload=function(e){e.target.error&&a(e.target.error),r(new Uint8Array(e.target.result))},c.readAsArrayBuffer(e.slice(n,n+t))}))}}(t)).then((function(e){n((function(n){return Object(z.a)(Object(k.a)({},M(),Object(z.a)(Object(z.a)({},function(e){var t=e.media.track.filter((function(e){return"General"===e["@type"]}))[0];return{format:t.Format,duration:t.Duration,startTime:t.Encoded_Date}}(e)),{},{name:t.name})),n)}))})).catch((function(e){return n((function(n){return Object(z.a)(Object(k.a)({},M(),{name:t.name,error:e.stack}),n)}))})).finally((function(){return j(!1)}))};e&&(j(!0),D().then(function(){var n=Object(S.a)(g.a.mark((function n(r){var a,c,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=Object(y.a)(e),n.prev=1,a.s();case 3:if((c=a.n()).done){n.next=10;break}if(!(s=c.value)){n.next=8;break}return n.next=8,t(r,s);case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),a.e(n.t0);case 15:return n.prev=15,a.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})));return function(e){return n.apply(this,arguments)}}()))}),[n]);return Object(m.jsx)(I,{analyzing:s,onDrop:o})},Y=n(56),A=n(55),F=function(e){return e.error?Object(m.jsx)("td",{colSpan:"3",className:"result-error",children:e.error}):Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("td",{children:e.format}),Object(m.jsx)("td",{children:e.startTime}),Object(m.jsx)("td",{children:e.duration})]})},J=function(e){var t=e.id,n=e.result,r=e.onRemove;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:n.name}),F(n),Object(m.jsx)("td",{className:"delete-button",children:Object(m.jsx)("button",{className:"remove",onClick:function(e){e.stopPropagation(),r(t)},tabIndex:0,title:"Remove from list",type:"button",children:Object(m.jsx)(d.a,{icon:x.c,size:"lg"})})})]})},U=function(e){var t=e.values,n=e.setValues,a=Object(r.useCallback)((function(e){return n((function(t){t[e];return Object(Y.a)(t,[e].map(A.a))}))}),[n]),c=Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)(J,{id:n,onRemove:a,result:r},n)}));return Object(m.jsx)("div",{id:"results",children:Object(m.jsxs)("table",{className:"file-list",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Format"}),Object(m.jsx)("th",{children:"Start Time"}),Object(m.jsx)("th",{children:"Duration"}),Object(m.jsx)("th",{className:"delete-button"})]})}),Object(m.jsx)("tbody",{children:c})]})})},G=n(101),H=n(98),L=n(103),P=n(5),V=n.n(P),Z=n(27),B=n.n(Z),_=n(28),q=n.n(_);V.a.extend(B.a),V.a.extend(q.a);var K=function(e){var t=e.value,n=e.setValue,a=e.override,c=e.setOverride;return Object(r.useEffect)((function(){if(""===t){var e=V.a.tz.guess();n(e)}}),[n,t]),Object(m.jsxs)("div",{id:"timezonefix",children:[Object(m.jsx)(L.a,{checked:a,onChange:function(e){return c(e.target.checked)},children:"Are start times above actually in local time zone?"}),Object(m.jsx)("div",{style:{display:"none"},children:Object(m.jsx)(G.a,{value:t,size:H.a.default,onChange:function(e){var t=e.id;n(t)},disabled:!a,className:"picker"})})]})},Q=n(48),W=n.n(Q),X=n(49),$=n.n(X),ee=n(50),te=n.n(ee);V.a.extend(W.a),V.a.extend($.a),V.a.extend(te.a),V.a.extend(q.a),V.a.extend(B.a);var ne=function(e){var t=e.fileInfo,n=e.overrideTimeZone,a=e.startEndList,c=e.setStartEndList;Object(r.useEffect)((function(){var e=function(e,t){var r=function(e){if(n){var t=e.replace("UTC ","");return V()(t).local()}if(e.match("^UTC ")){var r=e.replace("UTC ","")+" +00:00";return V()(r,"YYYY-MM-DD HH:mm:ss Z").tz("UTC")}return V()(e)}(t.startTime),a=r.add(t.duration,"second");return{id:e,name:t.name,startTime:r.toISOString(),endTime:a.toISOString()}},r=Object.entries(t).flatMap((function(t){var n=Object(i.a)(t,2),r=n[0],a=n[1];return a.startTime?[e(r,a)]:[]})).sort((function(e,t){return e.startTime>t.startTime?1:-1}));c(r)}),[t,n,c]);var s="ddd MMM D h:mm:ss A z YYYY";return Object(m.jsx)("div",{id:"start-end",children:Object(m.jsxs)("table",{className:"file-list",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Start Time"}),Object(m.jsx)("th",{children:"End Time"})]})}),Object(m.jsx)("tbody",{children:a.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:V()(e.startTime).format(s)}),Object(m.jsx)("td",{children:V()(e.endTime).format(s)})]},e.id)}))})]})})},re=function(e){var t=e.className,n=Object(r.useState)({}),c=Object(i.a)(n,2),s=c[0],j=c[1],o=Object(r.useState)(""),d=Object(i.a)(o,2),l=d[0],u=d[1],b=Object(r.useState)(!1),O=Object(i.a)(b,2),h=O[0],f=O[1],x=Object(r.useState)([]),v=Object(i.a)(x,2),p=v[0],g=v[1];return Object(m.jsxs)("div",{className:t,children:[Object(m.jsx)(R,{results:s,setResults:j}),Object.keys(s).length>0?function(e){return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("h3",{children:"File Metadata"}),Object(m.jsx)(U,{values:e,setValues:j}),Object(m.jsx)("hr",{}),Object(m.jsx)(K,{value:l,setValue:u,override:h,setOverride:f}),Object(m.jsx)("h3",{children:"Start and End Times"}),Object(m.jsx)(ne,{fileInfo:e,overrideTimeZone:h,startEndList:p,setStartEndList:g})]})}(s):null]})},ae=new h.a;var ce=function(){var e=Object(r.useState)("mediapage"),t=Object(i.a)(e,1)[0];return Object(m.jsx)(O.a,{value:ae,children:Object(m.jsxs)(u.a,{theme:b.a,children:[Object(m.jsx)("section",{id:"page",children:Object(m.jsx)(j.a,{children:Object(m.jsx)(o.a,{classNames:"page",mountOnEnter:!0,timeout:400,children:"mediapage"===t?Object(m.jsx)(re,{}):Object(m.jsx)(v,{})},t)})}),Object(m.jsx)("footer",{children:Object(m.jsx)("p",{children:Object(m.jsxs)("a",{href:"https://github.com/kamatsuoka/playlister",children:[Object(m.jsx)(d.a,{className:"fa-padded",icon:l.a,size:"lg"}),"GitHub"]})})})]})})};n(85);s.a.render(Object(m.jsx)(ce,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.763055d6.chunk.js.map