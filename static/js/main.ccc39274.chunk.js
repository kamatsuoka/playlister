(this.webpackJsonpplaylister=this.webpackJsonpplaylister||[]).push([[0],{85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(13),s=n.n(a),i=n(5),j=n(100),o=n(102),l=n(11),d=n(52),u=n(99),b=n(87),O=n(16),h=n(53),f=n(26),x=n(14),m=n(1),v=function(e){var t=e.className;return Object(m.jsxs)("div",{className:t,id:"about",children:[Object(m.jsxs)("h1",{children:[Object(m.jsx)(l.a,{icon:f.a})," about"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"mediainfo.js"})," can analyze all kinds of media files for you. It shows technical details and metadata."]}),Object(m.jsxs)("h2",{children:[Object(m.jsx)(l.a,{icon:x.d})," thanks"]}),Object(m.jsxs)("p",{children:["- ",Object(m.jsx)("a",{href:"https://mediaarea.net/en/MediaInfo",children:"mediainfo"})," -"," ",Object(m.jsx)("a",{href:"https://react-dropzone.js.org/",children:"react-dropzone"})," -"," ",Object(m.jsx)("a",{href:"https://fontawesome.com/",children:"font awesome"})]}),Object(m.jsxs)("h2",{children:[Object(m.jsx)(l.a,{icon:x.b})," contact"]}),Object(m.jsxs)("p",{children:["Get in touch on ",Object(m.jsx)("a",{href:"https://github.com/buzz/mediainfo.js",children:"GitHub"}),"."]})]})},p=n(36),g=n.n(p),y=n(41),k=n(42),S=n(19),z=n(10),N=function(e){var t=e.key,n=e.onRestore,c=void 0===n?function(e){return e}:n,a=e.setState,s=e.state;Object(r.useEffect)((function(){a(c(function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return window.localStorage.setItem(e,JSON.stringify({})),{}}return{}}(t)))}),[t,c,a]),Object(r.useEffect)((function(){!function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}(t,s)}),[t,s])},w=n(43),T=n.n(w),I=n(54),D=function(e){var t=e.analyzing,n=e.onDrop,r=Object(I.a)({disabled:t,onDrop:n}),c=r.getRootProps,a=r.getInputProps,s=r.isDragActive;return Object(m.jsx)("div",Object(z.a)(Object(z.a)({id:"dropzone",className:T()("big","center",{dragover:s})},c()),{},{children:t?Object(m.jsxs)("div",{id:"status",className:"hidden",children:[Object(m.jsx)(l.a,{icon:x.a,size:"lg",spin:!0})," Analyzing \u2026"]}):Object(m.jsxs)("div",{id:"dropcontrols",children:[Object(m.jsxs)("div",{id:"dropcontrolstext",children:[Object(m.jsx)(l.a,{icon:f.b,size:"lg"})," Drop media files here",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"small",children:"(or click)"})]}),Object(m.jsx)("input",Object(z.a)({id:"fileinput",type:"file"},a()))]})}))},C=window.MediaInfo,M=function(){return Math.random().toString(36).substr(2,9)},E=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(z.a)(Object(z.a)({},e),{},Object(S.a)({},r,Object(z.a)({},c)))}),{})},P=function(e){var t=e.results,n=e.setResults,c=Object(r.useState)(!1),a=Object(i.a)(c,2),s=a[0],j=a[1];N({key:"results",onRestore:E,setState:n,state:t});var o=Object(r.useCallback)((function(e){var t=function(e,t){return e.analyzeData((function(){return t.size}),function(e){return function(t,n){return new Promise((function(r,c){var a=new FileReader;a.onload=function(e){e.target.error&&c(e.target.error),r(new Uint8Array(e.target.result))},a.readAsArrayBuffer(e.slice(n,n+t))}))}}(t)).then((function(e){n((function(n){return Object(z.a)(Object(S.a)({},M(),Object(z.a)(Object(z.a)({},function(e){var t=e.media.track.filter((function(e){return"General"===e["@type"]}))[0];return{format:t.Format,duration:t.Duration,startTime:t.Encoded_Date}}(e)),{},{name:t.name})),n)}))})).catch((function(e){return n((function(n){return Object(z.a)(Object(S.a)({},M(),{name:t.name,error:e.stack}),n)}))})).finally((function(){return j(!1)}))};e&&(j(!0),C().then(function(){var n=Object(k.a)(g.a.mark((function n(r){var c,a,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=Object(y.a)(e),n.prev=1,c.s();case 3:if((a=c.n()).done){n.next=10;break}if(!(s=a.value)){n.next=8;break}return n.next=8,t(r,s);case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),c.e(n.t0);case 15:return n.prev=15,c.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})));return function(e){return n.apply(this,arguments)}}()))}),[n]);return Object(m.jsx)(D,{analyzing:s,onDrop:o})},R=n(56),F=n(55),Y=function(e){return e.error?Object(m.jsx)("td",{colSpan:"3",className:"result-error",children:e.error}):Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("td",{children:e.format}),Object(m.jsx)("td",{children:e.startTime}),Object(m.jsx)("td",{children:e.duration})]})},A=function(e){var t=e.id,n=e.result,r=e.onRemove;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:n.name}),Y(n),Object(m.jsx)("td",{className:"delete-button",children:Object(m.jsx)("button",{className:"remove",onClick:function(e){e.stopPropagation(),r(t)},tabIndex:0,title:"Remove from list",type:"button",children:Object(m.jsx)(l.a,{icon:x.c,size:"lg"})})})]})},J=function(e){var t=e.values,n=e.setValues,c=Object(r.useCallback)((function(e){return n((function(t){t[e];return Object(R.a)(t,[e].map(F.a))}))}),[n]),a=Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)(A,{id:n,onRemove:c,result:r},n)}));return Object(m.jsx)("div",{id:"results",children:Object(m.jsxs)("table",{className:"file-list",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Format"}),Object(m.jsx)("th",{children:"Start Time"}),Object(m.jsx)("th",{children:"Duration"}),Object(m.jsx)("th",{className:"delete-button"})]})}),Object(m.jsx)("tbody",{children:a})]})})},U=n(101),G=n(98),H=n(103),V=n(6),Z=n.n(V),B=n(27),_=n.n(B),q=n(28),K=n.n(q);Z.a.extend(_.a),Z.a.extend(K.a);var L=function(e){var t=e.value,n=e.setValue,c=e.override,a=e.setOverride;return Object(r.useEffect)((function(){if(""===t){var e=Z.a.tz.guess();n(e)}}),[n,t]),Object(m.jsxs)("div",{id:"timezonefix",children:[Object(m.jsx)(H.a,{checked:c,onChange:function(e){return a(e.target.checked)},children:"Are start times above actually in local time zone?"}),Object(m.jsx)("div",{style:{display:"none"},children:Object(m.jsx)(U.a,{value:t,size:G.a.default,onChange:function(e){var t=e.id;n(t)},disabled:!c,className:"picker"})})]})},Q=n(48),W=n.n(Q),X=n(49),$=n.n(X),ee=n(50),te=n.n(ee);Z.a.extend(W.a),Z.a.extend($.a),Z.a.extend(te.a),Z.a.extend(K.a),Z.a.extend(_.a);var ne=function(e){var t=e.fileInfo,n=e.overrideTimeZone,c=e.fileProperties,a=e.setFileProperties;Object(r.useEffect)((function(){var e=function(e){var t=function(e){if(n){var t=e.replace("UTC ","");return Z()(t).local()}if(e.match("^UTC ")){var r=e.replace("UTC ","")+" +00:00";return Z()(r,"YYYY-MM-DD HH:mm:ss Z").tz("UTC")}return Z()(e)}(e.startTime),r=t.add(e.duration,"second");return{name:e.name,startTime:t.toISOString(),endTime:r.toISOString()}},r=Object.fromEntries(Object.entries(t).flatMap((function(t){var n=Object(i.a)(t,2),r=n[0],c=n[1];return c.startTime?[[r,e(c)]]:[]})));a(r)}),[t,n,a]);var s="ddd MMM D h:mm:ss A z YYYY";return Object(m.jsx)("div",{id:"calculated",children:Object(m.jsxs)("table",{className:"file-list",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Start Time"}),Object(m.jsx)("th",{children:"End Time"})]})}),Object(m.jsx)("tbody",{children:Object.entries(c).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:r.name}),Object(m.jsx)("td",{children:Z()(r.startTime).format(s)}),Object(m.jsx)("td",{children:Z()(r.endTime).format(s)})]},n)}))})]})})},re=function(e){var t=e.className,n=Object(r.useState)({}),a=Object(i.a)(n,2),s=a[0],j=a[1],o=Object(r.useState)(""),l=Object(i.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)(!1),O=Object(i.a)(b,2),h=O[0],f=O[1],x=Object(r.useState)({}),v=Object(i.a)(x,2),p=v[0],g=v[1];return Object(m.jsxs)("div",{className:t,children:[Object(m.jsx)(P,{results:s,setResults:j}),Object.keys(s).length>0?function(e){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h3",{children:"File Metadata"}),Object(m.jsx)(J,{values:e,setValues:j}),Object(m.jsx)(L,{value:d,setValue:u,override:h,setOverride:f}),Object(m.jsx)("hr",{}),Object(m.jsx)("h3",{children:"Calculated Properties"}),Object(m.jsx)(ne,{fileInfo:e,overrideTimeZone:h,fileProperties:p,setFileProperties:g})]})}(s):null]})},ce=new h.a;var ae=function(){var e=Object(r.useState)("mediapage"),t=Object(i.a)(e,1)[0];return Object(m.jsx)(O.a,{value:ce,children:Object(m.jsxs)(u.a,{theme:b.a,children:[Object(m.jsx)("section",{id:"page",children:Object(m.jsx)(j.a,{children:Object(m.jsx)(o.a,{classNames:"page",mountOnEnter:!0,timeout:400,children:"mediapage"===t?Object(m.jsx)(re,{}):Object(m.jsx)(v,{})},t)})}),Object(m.jsx)("footer",{children:Object(m.jsx)("p",{children:Object(m.jsxs)("a",{href:"https://github.com/kamatsuoka/playlister",children:[Object(m.jsx)(l.a,{className:"fa-padded",icon:d.a,size:"lg"}),"GitHub"]})})})]})})};n(85);s.a.render(Object(m.jsx)(ae,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.ccc39274.chunk.js.map