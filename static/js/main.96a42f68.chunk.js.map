{"version":3,"sources":["hooks/usePersist.js","components/DropZone.js","components/MediaInfoJs.js","components/TableOverrides.js","components/MetadataList.js","components/TimezoneOverride.js","components/StartEndList.js","components/BaseCard.js","components/InferredDate.js","components/FilePage.js","util/auth.js","components/AuthPage.js","components/RehearsalData.js","components/PlaylistTitle.js","components/PlaylistPage.js","components/VideoNaming.js","components/VideoList.js","components/VideoPage.js","components/App.js","index.js"],"names":["usePersist","key","onRestore","setState","state","useEffect","restoredJson","window","localStorage","getItem","JSON","parse","setItem","stringify","restore","save","copyData","data","Object","assign","DropZone","analyzing","onDrop","progressMessage","MediaInfo","getRandomId","Math","random","toString","substr","MediaInfoJs","results","setResults","useState","setAnalyzing","useCallback","files","getFileInfo","mediainfo","file","analyzeData","size","chunkSize","offset","Promise","resolve","reject","reader","FileReader","onload","event","target","error","Uint8Array","result","readAsArrayBuffer","slice","readChunk","then","prevResults","general","media","track","filter","format","Format","duration","Duration","startTime","Encoded_Date","filterResult","name","catch","stack","finally","a","tablePadding","tableOverrides","TableBodyRow","style","$theme","backgroundColor","$rowIndex","colors","backgroundPrimary","backgroundSecondary","backgroundTertiary","TableHeadCell","paddingLeft","paddingRight","TableBodyCell","paddingTop","paddingBottom","MetadataList","values","setValues","onRemove","resultId","DATA","entries","map","id","durationOverrides","textAlign","overrides","header","row","numeric","parseFloat","toFixed","className","onClick","stopPropagation","tabIndex","title","type","icon","faTimes","TimezoneOverride","value","setValue","checked","onChange","e","dayjs","extend","localizedFormat","advancedFormat","customParseFormat","timezone","utc","StartEndList","fileInfo","overrideTimeZone","startEndList","setStartEndList","calculateStartEnd","timestamp","time","replace","local","match","tz","parseTimestamp","endTime","add","toISOString","startEnds","flatMap","sort","s1","s2","displayTemplate","columns","startEnd","BaseCard","children","Root","marginTop","marginBottom","Title","typography","HeadingXSmall","inferredDate","dateSet","Set","f","forEach","d","next","InferredDate","date","FilePage","rehearsalData","setRehearsalData","setInferredDate","setFileInfo","setOverrideTimeZone","gapi","isAuthenticated","auth2","getAuthInstance","isSignedIn","get","console","AuthPage","apiKey","clientId","apiData","setApiData","authMessage","setAuthMessage","styleLevel","postAuth","signIn","scope","log","err","msg","client","setApiKey","load","message","init","client_id","auth","kind","BKind","secondary","primary","KIND","positive","closeable","negative","RehearsalData","flexGridColumnCount","flexGridColumnGap","flexGridRowGap","label","disabled","eventType","options","mapOptionToString","option","PlaylistTitle","suggestedTitle","titleChoice","currentTarget","align","ALIGN","horizontal","customTitle","PlaylistPage","setActiveKey","playlistTitle","setPlaylistTitle","playlistStatus","setPlaylistStatus","replaceAll","findMatchingPlaylist","searchTitle","matchingPlaylists","items","i","snippet","storePlaylist","playlist","hasOwnProperty","itemCount","contentDetails","publishedAt","description","searchPlaylists","nextPageToken","request","pageToken","youtube","playlists","list","response","isError","insertPlaylist","playlistProps","insert","Fragment","Body","width","showNotification","showPlaylist","VideoNaming","playlistSettings","span","prefix","cameraView","indexOffset","min","VideoList","videoNaming","setVideoResources","tableData","setTableData","startIndex","parseInt","resources","index","n","categoryId","recordingDetails","recordingDate","s","VideoPage","nextIndex","setVideoNaming","engine","Styletron","App","activeKey","setPlaylistSettings","theme","LightTheme","createTheme","lightThemePrimitives","inputTextDisabled","href","faGithub","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.96a42f68.chunk.js","sourcesContent":["import {useEffect} from 'react'\n\nconst restore = (key) => {\n  const restoredJson = window.localStorage.getItem(key)\n  if (restoredJson) {\n    try {\n      return JSON.parse(restoredJson)\n    } catch {\n      // Reset if data is corrupted\n      window.localStorage.setItem(key, JSON.stringify({}))\n      return {}\n    }\n  }\n  return {}\n}\n\nconst save = (key, state) =>\n  window.localStorage.setItem(key, JSON.stringify(state))\n\nconst usePersist = ({key, onRestore, setState, state}) => {\n  useEffect(() => {\n    setState(onRestore(restore(key)))\n  }, [key, onRestore, setState])\n  useEffect(() => {\n    save(key, state)\n  }, [key, state])\n}\n\nconst copyData = data => Object.assign({}, data)\n\nexport {copyData, usePersist}\n","import React from 'react'\nimport {FileUploader} from \"baseui/file-uploader\";\n\nconst DropZone = ({ analyzing, onDrop }) => {\n  return (\n    <FileUploader\n      onDrop={onDrop}\n      progressMessage={\n        analyzing\n          ? 'Analyzing ...'\n          : ''\n      }\n    />\n  )\n}\n\nexport default DropZone\n","import React, {useCallback, useState} from 'react'\n\nimport {copyData, usePersist} from '../hooks/usePersist'\nimport DropZone from './DropZone'\n\n// import MediaInfo from 'mediainfo.js'\n// // using MediaInfo through npm/react didn't work,\n// // so using it from CDN instead (see public/index.html)\nconst MediaInfo = window.MediaInfo\n\nconst readChunk = file => (chunkSize, offset) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onload = event => {\n      if (event.target.error) {\n        reject(event.target.error)\n      }\n      resolve(new Uint8Array(event.target.result))\n    }\n    reader.readAsArrayBuffer(file.slice(offset, offset + chunkSize))\n  })\n\nconst getRandomId = () => Math.random().toString(36).substr(2, 9)\n\n\n/**\n * Renders DropZone (and file picker) for one or more media files\n */\nconst MediaInfoJs = ({results, setResults}) => {\n  const [analyzing, setAnalyzing] = useState(false)\n\n  usePersist({\n    key: 'results',\n    onRestore: copyData,\n    setState: setResults,\n    state: results,\n  })\n\n  function filterResult(result) {\n    const general = result.media.track.filter(track => track[\"@type\"] === \"General\")[0]\n    return {\n      format: general.Format,\n      duration: general.Duration,\n      startTime: general.Encoded_Date\n    }\n  }\n\n  /**\n   * When file(s) dropped, get info for each of them.\n   */\n  const onDrop = useCallback(files => {\n\n    /**\n     * Gets file info for a single file.\n     */\n    const getFileInfo = (mediainfo, file) => {\n      return mediainfo\n        .analyzeData(() => file.size, readChunk(file))\n        .then(result => {\n            setResults(prevResults => ({\n              [getRandomId()]: {\n                ...(filterResult(result)),\n                name: file.name,\n              },\n              ...prevResults,\n            }))\n          }\n        )\n        .catch(error =>\n          setResults(prevResults => ({\n            [getRandomId()]: {\n              name: file.name,\n              error: error.stack\n            },\n            ...prevResults,\n          }))\n        )\n        .finally(() => setAnalyzing(false))\n    }\n\n    if (files) {\n      setAnalyzing(true)\n      MediaInfo().then(async mediainfo => {\n          for (const file of files) {\n            if (file) {\n              // need to 'await' each call to getFileInfo,\n              // otherwise the info returned is truncated.\n              await getFileInfo(mediainfo, file)\n            }\n          }\n        }\n      )\n    }\n  }, [setResults])\n\n  return <DropZone analyzing={analyzing} onDrop={onDrop}/>\n}\nexport default MediaInfoJs\n","const tablePadding = '7px'\nconst tableOverrides = {\n  TableBodyRow: {\n    style: ({$theme, $rowIndex}) => ({\n      backgroundColor:\n        $rowIndex % 2\n          ? $theme.colors.backgroundPrimary\n          : $theme.colors.backgroundSecondary,\n      ':hover': {\n        backgroundColor: $theme.colors.backgroundTertiary,\n      },\n    }),\n  },\n  TableHeadCell: {\n    style: ({$theme, $rowIndex}) => ({\n      paddingLeft: tablePadding,\n      paddingRight: tablePadding\n    })\n  },\n  TableBodyCell: {\n    style: ({$theme, $rowIndex}) => ({\n      paddingLeft: tablePadding,\n      paddingRight: tablePadding,\n      paddingTop: tablePadding,\n      paddingBottom: tablePadding,\n    })\n  }\n}\n\nexport {tablePadding, tableOverrides}\n","import React, {useCallback} from \"react\"\nimport {TableBuilder, TableBuilderColumn} from 'baseui/table-semantic'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\"\nimport {tableOverrides, tablePadding} from \"./TableOverrides\"\n\n/**\n * List of file info from MediaInfo\n */\nconst MetadataList = ({values, setValues}) => {\n\n  const onRemove = useCallback(\n    (resultId) => setValues(({[resultId]: _, ...rest}) => rest),\n    [setValues]\n  )\n\n  const DATA = Object.entries(values).map(([resultId, result]) => (\n    {\n      id: resultId,\n      name: result.name,\n      format: result.format,\n      startTime: result.startTime,\n      duration: result.duration\n    }))\n\n  const durationOverrides = {\n    TableHeadCell: {\n      style: ({$theme, $rowIndex}) => ({\n        textAlign: 'right',\n        paddingRight: tablePadding\n      })\n    }\n  }\n\n  return (\n    <div id=\"results\">\n      <TableBuilder data={DATA} overrides={tableOverrides}>\n        <TableBuilderColumn header=\"Name\">\n          {row => row.name}\n        </TableBuilderColumn>\n        <TableBuilderColumn header=\"Format\">\n          {row => row.format}\n        </TableBuilderColumn>\n        <TableBuilderColumn header=\"Start Time\">\n          {row => row.startTime}\n        </TableBuilderColumn>\n        <TableBuilderColumn header=\"Duration\" numeric overrides={durationOverrides}>\n          {row => parseFloat(row.duration).toFixed(1).toString() + 's'}\n        </TableBuilderColumn>\n        <TableBuilderColumn header=\"\">\n          {row => <button\n            className=\"remove\"\n            onClick={(event) => {\n              event.stopPropagation()\n              onRemove(row.id)\n            }}\n            tabIndex={0}\n            title=\"Remove from list\"\n            type=\"button\"\n          >\n            <FontAwesomeIcon icon={faTimes} size=\"lg\"/>\n          </button>\n          }\n        </TableBuilderColumn>\n      </TableBuilder>\n    </div>\n  )\n}\n\nexport default MetadataList\n","import React from \"react\"\nimport {Checkbox} from \"baseui/checkbox\"\n\nconst TimezoneOverride = ({value, setValue}) => {\n\n  return (\n    <div>\n      <Checkbox\n        checked={value}\n        onChange={e => setValue(e.target.checked)}\n      >\n        Start times above are actually in local time zone\n      </Checkbox>\n    </div>\n  )\n\n}\n\nexport default TimezoneOverride\n","import React, {useEffect} from \"react\"\nimport dayjs from \"dayjs\"\nimport utc from 'dayjs/plugin/utc'\nimport localizedFormat from \"dayjs/plugin/localizedFormat\"\nimport advancedFormat from \"dayjs/plugin/advancedFormat\"\nimport timezone from \"dayjs/plugin/timezone\" // dependent on utc plugin\nimport customParseFormat from \"dayjs/plugin/customParseFormat\"\nimport {tableOverrides} from \"./TableOverrides\"\nimport {Table} from 'baseui/table-semantic';\n// import {TableBuilderColumn} from \"baseui/table-semantic\"\n\ndayjs.extend(localizedFormat)\ndayjs.extend(advancedFormat)\ndayjs.extend(customParseFormat)\ndayjs.extend(timezone)\ndayjs.extend(utc)\n\n/**\n * List of calculated file properties\n */\nconst StartEndList = ({fileInfo, overrideTimeZone, startEndList, setStartEndList}) => {\n\n  /**\n   * Calculate start and end time from file info\n   */\n  useEffect(() => {\n    const parseTimestamp = (timestamp) => {\n      if (overrideTimeZone) {\n        const time = timestamp.replace('UTC ', '')\n        return dayjs(time).local()\n      } else {\n        if (timestamp.match(\"^UTC \")) {\n          const time = timestamp.replace('UTC ', '') + ' +00:00'\n          return dayjs(time, 'YYYY-MM-DD HH:mm:ss Z').tz(\"UTC\")\n        } else {\n          return dayjs(timestamp)\n        }\n      }\n    }\n\n    const calculateStartEnd = (resultId, result) => {\n      const startTime = parseTimestamp(result.startTime)\n      const endTime = startTime.add(result.duration, \"second\")\n      return {\n        id: resultId,\n        name: result.name,\n        startTime: startTime.toISOString(),\n        endTime: endTime.toISOString()\n      }\n    }\n\n    // filter out any files that don't have a start time (probably not media files)\n    const startEnds = Object.entries(fileInfo)\n      .flatMap(([resultId, result]) =>\n        result.startTime ? [calculateStartEnd(resultId, result)] : []\n      ).sort((s1, s2) => s1.startTime > s2.startTime ? 1 : -1)\n    setStartEndList(startEnds)\n  }, [fileInfo, overrideTimeZone, setStartEndList])\n\n  const displayTemplate = 'YYYY-MM-DD HH:mm:ss z'\n\n  const COLUMNS = ['Name', 'Start Time', 'End Time']\n\n  return (\n    <div id=\"start-end\">\n      <Table columns={COLUMNS} overrides={tableOverrides}\n             data={startEndList.map(startEnd => [\n               startEnd.name,\n               dayjs(startEnd.startTime).format(displayTemplate),\n               dayjs(startEnd.endTime).format(displayTemplate)\n             ])}/>\n    </div>\n  )\n}\n\nexport default StartEndList\n","import {Card} from \"baseui/card\"\n\nexport const BaseCard = ({children, title}) => {\n  return (\n    <Card\n      overrides={{\n        Root: {\n          style: ({$theme}) => ({\n            marginTop: '20px',\n            marginBottom: '20px',\n          })\n        },\n        Title: {\n          style: ({$theme}) => ({\n            ...$theme.typography.HeadingXSmall\n          })\n        }\n      }}\n      title={title}\n    >\n      {children}\n    </Card>\n  )\n}\n","import React, {useEffect} from 'react'\nimport dayjs from \"dayjs\"\nimport {BaseCard} from \"./BaseCard\"\n\nconst inferredDate = (startEndList) => {\n  const dateSet = new Set()\n  startEndList.map(f => dayjs(f.startTime)\n    .format(\"YYYYMMDD\"))\n    .forEach(d => dateSet.add(d))\n  return dateSet.size > 0 ? dateSet.values().next().value : ''\n}\n\nconst InferredDate = ({startEndList, value, setValue}) => {\n\n  useEffect(() => {\n    setValue({...value, date: inferredDate(startEndList)})\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [startEndList])\n\n  return (\n    <BaseCard title=\"Inferred Date\">\n      <label>{value.date}</label>\n    </BaseCard>\n  )\n}\n\nexport default InferredDate\n","import MediaInfoJs from \"./MediaInfoJs\"\nimport React, {useState} from \"react\"\nimport MetadataList from \"./MetadataList\"\nimport TimezoneOverride from \"./TimezoneOverride\"\nimport StartEndList from \"./StartEndList\"\nimport {StyledLink} from \"baseui/link\"\nimport {HeadingLevel} from \"baseui/heading\"\nimport InferredDate from \"./InferredDate\"\nimport {BaseCard} from \"./BaseCard\"\n\n/**\n * Page that holds files' MediaInfo data and rehearsal info\n */\nconst FilePage = ({\n                    startEndList, setStartEndList, rehearsalData, setRehearsalData,\n                    inferredDate, setInferredDate\n                  }) => {\n\n  const [fileInfo, setFileInfo] = useState({})\n  const [overrideTimeZone, setOverrideTimeZone] = useState(true)\n\n  return (\n    <div>\n      <MediaInfoJs results={fileInfo} setResults={setFileInfo}/>\n      <HeadingLevel>\n        <BaseCard title=\"File Metadata\">\n          <MetadataList values={fileInfo} setValues={setFileInfo}/>\n          <div style={{textAlign: 'right', marginTop: '10px'}}>\n            <StyledLink onClick={() => setFileInfo({})}>Clear All</StyledLink>\n          </div>\n        </BaseCard>\n        <BaseCard title=\"Start and End Times\">\n          <TimezoneOverride value={overrideTimeZone} setValue={setOverrideTimeZone}/>\n          <StartEndList fileInfo={fileInfo} overrideTimeZone={overrideTimeZone}\n                        startEndList={startEndList} setStartEndList={setStartEndList}/>\n        </BaseCard>\n        <InferredDate startEndList={startEndList} value={inferredDate} setValue={setInferredDate}/>\n      </HeadingLevel>\n    </div>\n  )\n}\n\nexport default FilePage\n","const gapi = window.gapi\n\n/**\n * Checks if user is signed in\n */\nconst isAuthenticated = () => {\n  try {\n    if (gapi.auth2) {\n      const auth2 = gapi.auth2.getAuthInstance()\n      return auth2 && auth2.isSignedIn.get()\n    }\n  } catch (e) {\n    console.error(e)\n  }\n  return false\n}\n\nexport {gapi, isAuthenticated}\n","import {Heading, HeadingLevel} from \"baseui/heading\"\nimport React, {useState} from \"react\"\nimport {Input} from \"baseui/input\"\nimport {copyData, usePersist} from \"../hooks/usePersist\"\nimport {Button, KIND as BKind} from \"baseui/button\"\nimport {KIND, Notification} from \"baseui/notification\"\nimport {gapi, isAuthenticated} from \"../util/auth\"\n\nconst AuthPage = () => {\n  const [apiData, setApiData] = useState({apiKey: '', clientId: ''})\n  const [authMessage, setAuthMessage] = useState({})\n  usePersist({\n    key: 'apiData',\n    onRestore: copyData,\n    setState: setApiData,\n    state: apiData,\n  })\n\n  function authenticate() {\n    return gapi.auth2.getAuthInstance()\n      .signIn({scope: \"https://www.googleapis.com/auth/youtube.force-ssl\"})\n      .then(\n        () => console.log(\"Sign-in successful\"),\n        err => {\n          const msg = \"Error signing in\"\n          console.error(msg, err)\n          setAuthMessage({error: msg})\n        }\n      )\n  }\n\n  function loadClient() {\n    gapi.client.setApiKey(apiData.apiKey)\n    return gapi.client.load(\"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\")\n      .then(\n        () => console.log(\"GAPI client loaded for API\"),\n        err => {\n          const msg = \"Error loading GAPI client for API\"\n          console.error(msg, err)\n          setAuthMessage({error: msg})\n        }\n      )\n  }\n\n  function initThen(postAuth) {\n    return gapi.load(\"client:auth2\", () =>\n      gapi.auth2.init({client_id: apiData.clientId}).then(auth => {\n        postAuth(auth)\n      })\n    )\n  }\n\n  const showAuthStatus = () => {\n    if (authMessage.message) {\n      return <Notification kind={KIND.positive} closeable>{authMessage.message}</Notification>\n    } else if (authMessage.error) {\n      return <Notification kind={KIND.negative} closeable>{authMessage.error}</Notification>\n    }\n  }\n\n  const initThenAuthenticate = () => {\n    initThen(async () => {\n      await authenticate()\n      await loadClient()\n      setAuthMessage({message: \"✅ Authenticated\"})\n    })\n  }\n\n  return (\n    <HeadingLevel>\n      <Heading styleLevel={6}>API Key</Heading>\n      <Input\n        value={apiData.apiKey}\n        onChange={e => setApiData({...apiData, apiKey: e.target.value})}\n      />\n      <Heading styleLevel={6}>Client ID</Heading>\n      <Input\n        value={apiData.clientId}\n        onChange={e => setApiData({...apiData, clientId: e.target.value})}\n      />\n      <div style={{marginTop: '20px'}}>\n        <Button onClick={initThenAuthenticate} kind={isAuthenticated() ? BKind.secondary : BKind.primary}>\n          Authenticate\n        </Button>\n        {showAuthStatus()}\n      </div>\n    </HeadingLevel>\n  )\n}\n\nexport default AuthPage\n","import React from 'react'\nimport {FormControl} from \"baseui/form-control\"\nimport {Combobox} from \"baseui/combobox\"\nimport {Input} from \"baseui/input\"\nimport {FlexGrid, FlexGridItem} from \"baseui/flex-grid\"\nimport {BaseCard} from \"./BaseCard\"\n\nconst RehearsalData = ({inferredDate, value, setValue}) => {\n\n  return (\n    <BaseCard title=\"Rehearsal Data\">\n      <FlexGrid flexGridColumnCount={2}\n                flexGridColumnGap=\"scale800\"\n                flexGridRowGap=\"scale800\"\n      >\n        <FlexGridItem><FormControl label=\"inferred date\">\n          <Input disabled value={inferredDate.date || ''}/>\n        </FormControl></FlexGridItem>\n        <FlexGridItem><FormControl label=\"event type\">\n          <Combobox\n            value={value.eventType}\n            onChange={eventType => setValue({...value, eventType: eventType})}\n            options={[\"rehearsal\", \"coaching\"]}\n            mapOptionToString={option => option}\n          />\n        </FormControl>\n        </FlexGridItem>\n      </FlexGrid>\n    </BaseCard>\n  )\n}\n\nexport default RehearsalData\n","import {ALIGN, Radio, RadioGroup} from \"baseui/radio\"\nimport React, {useEffect} from \"react\"\nimport {Input} from \"baseui/input\"\nimport {BaseCard} from \"./BaseCard\"\n\nconst PlaylistTitle = ({inferredDate, rehearsalData, value, setValue}) => {\n\n  useEffect(() => {\n    setValue({\n      ...value,\n      suggestedTitle: `${inferredDate.date} ${rehearsalData.eventType}`\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [rehearsalData])\n\n  return (\n    <BaseCard title=\"Playlist Title\">\n      <RadioGroup\n        value={value.titleChoice}\n        onChange={e => setValue({...value, titleChoice: e.currentTarget.value})}\n        name=\"titleChoice\"\n        align={ALIGN.horizontal}\n      >\n        <Radio value=\"suggested\">Suggested &nbsp;</Radio>\n        <Radio value=\"custom\">Custom</Radio>\n      </RadioGroup>\n      <Input\n        value={value.titleChoice === 'suggested' ? (value.suggestedTitle || '') : value.customTitle || ''}\n        onChange={e => {\n          if (value.titleChoice === 'custom')\n            return setValue({...value, customTitle: e.target.value})\n          else\n            return null\n        }}\n        disabled={value.titleChoice !== 'custom'}\n      />\n    </BaseCard>\n  )\n}\nexport default PlaylistTitle\n","import React, {useState} from \"react\"\nimport {Button, KIND as BKind} from \"baseui/button\"\nimport dayjs from \"dayjs\"\nimport {Table} from \"baseui/table-semantic\"\nimport RehearsalData from \"./RehearsalData\"\nimport PlaylistTitle from \"./PlaylistTitle\"\nimport {KIND, Notification} from \"baseui/notification\"\nimport {BaseCard} from \"./BaseCard\"\nimport {StyledLink} from \"baseui/link\"\nimport {gapi, isAuthenticated} from \"../util/auth\"\n\nconst PlaylistPage = ({\n                        rehearsalData, setRehearsalData,\n                        inferredDate, setActiveKey,\n                        playlistTitle, setPlaylistTitle,\n                        value, setValue\n                      }) => {\n  const [playlistStatus, setPlaylistStatus] = useState({message: ''})\n  const MAX_RESULTS = 50\n\n  const suggestedTitle = () => {\n    const date = inferredDate.date || ''\n    const eventType = rehearsalData.eventType\n    return (date && eventType) ? date.replaceAll('-', '') + ' ' + eventType : ''\n  }\n\n  /**\n   * Find existing playlist with same name\n   */\n  const findMatchingPlaylist = (result, searchTitle) => {\n    const matchingPlaylists = result.items.filter(i => i.snippet.title === searchTitle)\n    if (matchingPlaylists && matchingPlaylists[0]) {\n      return matchingPlaylists[0]\n    }\n    return null\n  }\n\n  const storePlaylist = (playlist) => {\n    if (playlist.hasOwnProperty(['id'])) {\n      return setValue({\n        ...value,\n        id: playlist.id,\n        title: playlist.snippet.title,\n        itemCount: playlist.contentDetails.itemCount,\n        publishedAt: playlist.snippet.publishedAt,\n        description: playlist.snippet.description\n      })\n    } else {\n      return setValue({})\n    }\n  }\n\n\n  function searchPlaylists(nextPageToken = '') {\n    const request = {\n      \"part\": [\n        \"snippet,contentDetails\"\n      ],\n      \"maxResults\": MAX_RESULTS,\n      \"mine\": true\n    }\n    const searchTitle = playlistTitle.titleChoice === 'custom' ? playlistTitle.customTitle : suggestedTitle()\n\n    if (nextPageToken !== '')\n      request.pageToken = nextPageToken\n    return gapi.client.youtube.playlists.list(request).then(\n      response => {\n        const playlist = findMatchingPlaylist(response.result, searchTitle)\n        if (playlist) {\n          storePlaylist(playlist)\n          setPlaylistStatus({\n            ...playlistStatus,\n            message: `Found existing playlist \"${playlist.snippet.title}\"`,\n            isError: false\n          })\n        } else if (response.result.nextPageToken) {\n          searchPlaylists(response.result.nextPageToken)\n        } else {\n          insertPlaylist(searchTitle)\n        }\n      },\n      err => console.error(\"Execute error\", err)\n    )\n  }\n\n  function insertPlaylist(title) {\n    const playlistProps = {\n      \"part\": [\n        \"snippet,contentDetails,status\"\n      ],\n      \"resource\": {\n        \"snippet\": {\n          \"title\": title,\n          \"description\": `created by playlister on ${dayjs()}`,\n        },\n        \"status\": {\n          \"privacyStatus\": \"unlisted\"\n        }\n      }\n    }\n    return gapi.client.youtube.playlists.insert(playlistProps).then(response => {\n      const playlist = response.result\n      storePlaylist(playlist)\n      setPlaylistStatus({\n        ...playlistStatus,\n        message: `Created playlist \"${response.result.snippet.title}\"`,\n        isError: false\n      })\n    }, err => {\n      console.error(\"Execute error\", err)\n      storePlaylist({})\n      setPlaylistStatus({\n        ...playlistStatus,\n        message: `Error creating playlist: ${JSON.stringify(err)}`,\n        isError: true\n      })\n    })\n  }\n\n  const showPlaylist = () => {\n    if (value.id) {\n      const DATA = [\n        ['title', value.title],\n        ['description', value.description],\n        ['id', value.id],\n        ['item count', value.itemCount],\n        ['published at', value.publishedAt]\n      ]\n      return (\n        <BaseCard title=\"Playlist\">\n          <Table data={DATA} columns={['Field', 'Value']}/>\n        </BaseCard>\n      )\n    }\n    return null\n  }\n\n  const showNotification = () => {\n    if (!isAuthenticated()) {\n      return <Notification kind={KIND.negative}\n                           overrides={{\n                             Body: {style: {width: 'auto'}}\n                           }}\n      >\n        Please &nbsp;\n        <StyledLink onClick={() => setActiveKey(1)}>authenticate</StyledLink>\n        &nbsp; first\n      </Notification>\n    } else if (playlistStatus.message) {\n      const kind = playlistStatus.isError ? KIND.negative : KIND.positive\n      return <Notification kind={kind}\n                           overrides={{\n                             Body: {style: {width: 'auto'}},\n                           }}\n                           closeable\n      >\n        {playlistStatus.message}\n      </Notification>\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <RehearsalData inferredDate={inferredDate} value={rehearsalData} setValue={setRehearsalData}/>\n      <PlaylistTitle inferredDate={inferredDate} rehearsalData={rehearsalData}\n                     value={playlistTitle} setValue={setPlaylistTitle}/>\n      <Button onClick={() => searchPlaylists()} kind={value.id ? BKind.secondary : BKind.primary}\n              disabled={!isAuthenticated()}\n      >\n        Find or Create Playlist\n      </Button>\n      {showNotification()}\n      {showPlaylist()}\n    </React.Fragment>\n  )\n}\n\nexport default PlaylistPage\n","import React from 'react'\nimport {Input} from \"baseui/input\"\nimport {FormControl} from \"baseui/form-control\"\nimport {Cell, Grid} from \"baseui/layout-grid\"\nimport {Combobox} from \"baseui/combobox\"\nimport {BaseCard} from \"./BaseCard\"\n\n\nconst VideoNaming = ({playlistSettings, value, setValue}) => {\n\n  return (\n    <BaseCard title=\"Video Naming\">\n      <Grid>\n        <Cell span={[1, 2, 2]}>\n          <FormControl label=\"prefix\">\n            <Input\n              value={value.prefix}\n              onChange={e => setValue({...value, prefix: e.target.value})}\n            />\n          </FormControl>\n        </Cell>\n        <Cell span={[2, 3, 4]}>\n          <FormControl label=\"camera view\">\n            <Combobox\n              value={value.cameraView}\n              onChange={e => setValue({...value, cameraView: e})}\n              options={[\"chorus\", \"director\", \"corner\", \"elevated\"]}\n              mapOptionToString={option => option}\n            />\n          </FormControl>\n        </Cell>\n        <Cell span={[1, 2, 2]}>\n          <FormControl label=\"next index\">\n            <Input\n              value={(playlistSettings.itemCount || 0) + 1}\n              type=\"number\"\n              disabled\n            />\n          </FormControl>\n        </Cell>\n        <Cell span={[1, 2, 2]}>\n          <FormControl label=\"index offset\">\n            <Input\n              value={value.indexOffset}\n              type=\"number\"\n              min={-(playlistSettings.itemCount || 0)}\n              onChange={e => setValue({...value, indexOffset: e.target.value})}\n            />\n          </FormControl>\n        </Cell>\n      </Grid>\n    </BaseCard>\n  )\n}\n\nexport default VideoNaming\n","import React, {useEffect, useState} from \"react\"\nimport dayjs from \"dayjs\"\nimport utc from 'dayjs/plugin/utc'\nimport localizedFormat from \"dayjs/plugin/localizedFormat\"\nimport advancedFormat from \"dayjs/plugin/advancedFormat\"\nimport timezone from \"dayjs/plugin/timezone\" // dependent on utc plugin\nimport customParseFormat from \"dayjs/plugin/customParseFormat\"\nimport {Table} from 'baseui/table-semantic';\nimport {BaseCard} from \"./BaseCard\"\n\ndayjs.extend(localizedFormat)\ndayjs.extend(advancedFormat)\ndayjs.extend(customParseFormat)\ndayjs.extend(timezone)\ndayjs.extend(utc)\n\n/**\n * List of calculated file properties\n */\nconst VideoList = ({\n                     inferredDate,\n                     startEndList,\n                     playlistSettings,\n                     videoNaming,\n                     setVideoResources\n                   }) => {\n  const [tableData, setTableData] = useState([])\n\n  useEffect(() => {\n    const date = inferredDate.date\n    const startIndex = parseInt(playlistSettings.itemCount || 0) + 1 + parseInt(videoNaming.indexOffset)\n    const pad = (n) => n < 10 ? `0${n}` : `${n}`\n    const resources = startEndList.map((startEnd, index) => ({\n      kind: \"youtube#video\",\n      snippet: {\n        title: `${videoNaming.prefix} ${date} ${videoNaming.cameraView} ${pad(startIndex + index)}`,\n        categoryId: 10 // Music\n      },\n      recordingDetails: {\n        recordingDate: dayjs(startEnd.startTime).utc().format()\n      }\n    }))\n    setVideoResources(resources)\n    setTableData(startEndList.map(s => s.name).map((n, i) =>\n      [n, resources[i].snippet.title, resources[i].recordingDetails.recordingDate])\n    )\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [startEndList, playlistSettings, videoNaming])\n\n  const COLUMNS = ['File name', 'Video Name', 'Recording Date']\n\n  return (\n    <BaseCard title=\"Video List\">\n      <Table columns={COLUMNS} data={tableData}/>\n    </BaseCard>\n  )\n}\n\nexport default VideoList\n","import React, {useState} from 'react'\nimport VideoNaming from \"./VideoNaming\"\nimport VideoList from \"./VideoList\"\nimport {Button} from \"baseui/button\"\nimport {KIND, Notification} from \"baseui/notification\"\nimport {StyledLink} from \"baseui/link\"\nimport {isAuthenticated} from \"../util/auth\"\n\nconst VideoPage = ({inferredDate, startEndList, playlistSettings, setActiveKey}) => {\n  const [videoNaming, setVideoNaming] = useState({\n    prefix: \"fcs\", cameraView: \"chorus\", nextIndex: 1, indexOffset: 0\n  })\n  const [videoResources, setVideoResources] = useState({})\n\n  const canUpload = () => {\n    // TODO\n    // return isAuthenticated() && Object.keys(videoResources).length > 0 && playlistSettings.id\n    return false\n  }\n\n  const showNotification = () => {\n    const overrides = {Body: {style: {width: 'auto'}}}\n    if (!isAuthenticated()) {\n      return <Notification kind={KIND.negative} overrides={overrides}>\n        Please &nbsp;\n        <StyledLink onClick={() => setActiveKey(1)}>authenticate</StyledLink>\n        &nbsp; first\n      </Notification>\n    } else if (!playlistSettings.id) {\n      return <Notification kind={KIND.negative} overrides={overrides}>\n        Please &nbsp;\n        <StyledLink onClick={() => setActiveKey(2)}>find or create the playlist</StyledLink>\n        &nbsp; first\n      </Notification>\n    } else {\n      return null\n    }\n  }\n\n\n  return (\n    <React.Fragment>\n      <VideoNaming playlistSettings={playlistSettings} value={videoNaming} setValue={setVideoNaming}/>\n      <VideoList inferredDate={inferredDate} startEndList={startEndList} playlistSettings={playlistSettings}\n                 videoNaming={videoNaming} setVideoResources={setVideoResources}/>\n      <Button disabled={!canUpload()}>Upload no work</Button>\n      {showNotification()}\n    </React.Fragment>\n  )\n}\n\nexport default VideoPage\n","import React, {useState} from 'react'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faGithub} from '@fortawesome/free-brands-svg-icons'\nimport {BaseProvider, createTheme, LightTheme, lightThemePrimitives, ThemeProvider} from 'baseui'\nimport {Provider as StyletronProvider} from \"styletron-react\"\nimport {Client as Styletron} from \"styletron-engine-atomic\"\nimport {Tab, Tabs} from 'baseui/tabs-motion';\n\nimport FilePage from './FilePage'\nimport AuthPage from \"./AuthPage\"\nimport PlaylistPage from \"./PlaylistPage\"\nimport VideoPage from \"./VideoPage\"\nimport {HeadingLevel} from \"baseui/heading\"\n\nconst engine = new Styletron()\n\nfunction App() {\n\n  const [activeKey, setActiveKey] = useState(0);\n  const [startEndList, setStartEndList] = useState([])\n  const [rehearsalData, setRehearsalData] = useState({eventType: \"rehearsal\"})\n  const [playlistSettings, setPlaylistSettings] = useState({})\n  const [playlistTitle, setPlaylistTitle] = useState({titleChoice: 'suggested'})\n  const [inferredDate, setInferredDate] = useState({})\n\n  return (\n    <StyletronProvider value={engine}>\n      <BaseProvider theme={LightTheme}>\n        <ThemeProvider\n          theme={createTheme(lightThemePrimitives, {\n            colors: {inputTextDisabled: 'black'}\n          })}\n        >\n          <HeadingLevel>\n            <Tabs\n              activeKey={activeKey}\n              onChange={({activeKey}) => setActiveKey(activeKey)}\n            >\n              <Tab title=\"Files\">\n                <FilePage startEndList={startEndList} setStartEndList={setStartEndList}\n                          rehearsalData={rehearsalData} setRehearsalData={setRehearsalData}\n                          inferredDate={inferredDate} setInferredDate={setInferredDate}/>\n              </Tab>\n              <Tab title=\"Auth\">\n                <AuthPage/>\n              </Tab>\n              <Tab title=\"Playlist\">\n                <PlaylistPage startEndList={startEndList}\n                              rehearsalData={rehearsalData} setRehearsalData={setRehearsalData}\n                              inferredDate={inferredDate} setActiveKey={setActiveKey}\n                              playlistTitle={playlistTitle} setPlaylistTitle={setPlaylistTitle}\n                              value={playlistSettings} setValue={setPlaylistSettings}/>\n              </Tab>\n              <Tab title=\"Videos\">\n                <VideoPage inferredDate={inferredDate} startEndList={startEndList}\n                           playlistSettings={playlistSettings} setActiveKey={setActiveKey}/>\n              </Tab>\n            </Tabs>\n          </HeadingLevel>\n          <footer>\n            <p>\n              <a href=\"https://github.com/kamatsuoka/playlister\">\n                <FontAwesomeIcon className=\"fa-padded\" icon={faGithub} size=\"lg\"/>\n                GitHub\n              </a>\n            </p>\n          </footer>\n        </ThemeProvider>\n      </BaseProvider>\n    </StyletronProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\nimport './styles/index.sass'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}