(this.webpackJsonpplaylister=this.webpackJsonpplaylister||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(10),s=n.n(a),i=n(7),o=n(42),j=n(43),l=n(5),u=n(23),b=n(8),d=n(6),O=n(0),h=function(e){var t=e.className;return Object(O.jsxs)("div",{className:t,id:"about",children:[Object(O.jsxs)("h1",{children:[Object(O.jsx)(l.a,{icon:b.a})," about"]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"mediainfo.js"})," can analyze all kinds of media files for you. It shows technical details and metadata."]}),Object(O.jsxs)("h2",{children:[Object(O.jsx)(l.a,{icon:d.d})," thanks"]}),Object(O.jsxs)("p",{children:["- ",Object(O.jsx)("a",{href:"https://mediaarea.net/en/MediaInfo",children:"mediainfo"})," -"," ",Object(O.jsx)("a",{href:"https://react-dropzone.js.org/",children:"react-dropzone"})," -"," ",Object(O.jsx)("a",{href:"https://fontawesome.com/",children:"font awesome"})]}),Object(O.jsxs)("h2",{children:[Object(O.jsx)(l.a,{icon:d.b})," contact"]}),Object(O.jsxs)("p",{children:["Get in touch on ",Object(O.jsx)("a",{href:"https://github.com/buzz/mediainfo.js",children:"GitHub"}),"."]})]})},f=n(18),x=n.n(f),m=n(19),p=n(26),g=n(25),v=n(20),y=n(11),k=n(4),w=function(e){var t=e.key,n=e.onRestore,r=void 0===n?function(e){return e}:n,a=e.setState,s=e.state;Object(c.useEffect)((function(){a(r(function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return window.localStorage.setItem(e,JSON.stringify({})),{}}return{}}(t)))}),[t,r,a]),Object(c.useEffect)((function(){!function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}(t,s)}),[t,s])},N=n(21),z=n.n(N),S=n(24),D=function(e){var t=e.analyzing,n=e.onDrop,c=Object(S.a)({disabled:t,onDrop:n}),r=c.getRootProps,a=c.getInputProps,s=c.isDragActive;return Object(O.jsx)("div",Object(k.a)(Object(k.a)({id:"dropzone",className:z()("big","center",{dragover:s})},r()),{},{children:t?Object(O.jsxs)("div",{id:"status",className:"hidden",children:[Object(O.jsx)(l.a,{icon:d.a,size:"lg",spin:!0})," Analyzing \u2026"]}):Object(O.jsxs)("div",{id:"dropcontrols",children:[Object(O.jsxs)("div",{id:"dropcontrolstext",children:[Object(O.jsx)(l.a,{icon:b.c,size:"lg"})," Drop media files here",Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"small",children:"(or click)"})]}),Object(O.jsx)("input",Object(k.a)({id:"fileinput",type:"file"},a()))]})}))},I=function(e){return e.error?Object(O.jsx)("td",{colSpan:"3",className:"result-error",children:e.error}):Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)("td",{children:e.format}),Object(O.jsx)("td",{children:e.startTime}),Object(O.jsx)("td",{children:e.duration})]})},R=function(e){var t=e.id,n=e.result,c=e.onRemove;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n.name}),I(n),Object(O.jsx)("td",{children:Object(O.jsx)("button",{className:"remove",onClick:function(e){e.stopPropagation(),c(t)},tabIndex:0,title:"Remove from list",type:"button",children:Object(O.jsx)(l.a,{icon:d.c,size:"lg"})})})]})},A=window.MediaInfo,E=function(){return Math.random().toString(36).substr(2,9)},F=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(k.a)(Object(k.a)({},e),{},Object(y.a)({},c,Object(k.a)(Object(k.a)({},r),{},{collapsed:!0})))}),{})},J=function(e){var t=e.className,n=Object(c.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)({}),j=Object(i.a)(o,2),l=j[0],u=j[1];function b(e,t){return e.analyzeData((function(){return t.size}),function(e){return function(t,n){return new Promise((function(c,r){var a=new FileReader;a.onload=function(e){e.target.error&&r(e.target.error),c(new Uint8Array(e.target.result))},a.readAsArrayBuffer(e.slice(n,n+t))}))}}(t)).then((function(e){u((function(n){return Object(k.a)(Object(y.a)({},E(),Object(k.a)(Object(k.a)({},function(e){var t=e.media.track.filter((function(e){return"General"===e["@type"]}))[0];return{format:t.Format,duration:t.Duration,startTime:t.Encoded_Date}}(e)),{},{name:t.name,collapsed:!1})),n)}))})).catch((function(e){return u((function(t){return Object(k.a)(Object(y.a)({},E(),{collapsed:!1,error:e.stack}),t)}))})).finally((function(){return s(!1)}))}function d(){return(d=Object(v.a)(x.a.mark((function e(t,n){var c,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=Object(m.a)(n),e.prev=1,c.s();case 3:if((r=c.n()).done){e.next=10;break}if(!(a=r.value)){e.next=8;break}return e.next=8,b(t,a);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c.e(e.t0);case 15:return e.prev=15,c.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})))).apply(this,arguments)}w({key:"results",onRestore:F,setState:u,state:l});var h=Object(c.useCallback)((function(e){e&&(s(!0),A().then((function(t){return function(e,t){return d.apply(this,arguments)}(t,e)})))}),[]),f=Object(c.useCallback)((function(e){return u((function(t){t[e];return Object(p.a)(t,[e].map(g.a))}))}),[]),N=Object.entries(l).map((function(e){var t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(O.jsx)(R,{id:n,onRemove:f,result:c},n)}));return Object(O.jsxs)("div",{className:t,children:[Object(O.jsx)(D,{analyzing:a,onDrop:h}),Object(O.jsxs)("div",{id:"results",children:[Object(O.jsxs)("table",{className:"results-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Format"}),Object(O.jsx)("th",{children:"Start Time"}),Object(O.jsx)("th",{children:"Duration"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:N})]}),Object.keys(l).length?null:"No results yet\u2026"]})]})};var G=function(){var e=Object(c.useState)("mediainfojs"),t=Object(i.a)(e,2),n=t[0];return t[1],Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("section",{id:"page",children:Object(O.jsx)(o.a,{children:Object(O.jsx)(j.a,{classNames:"page",mountOnEnter:!0,timeout:400,children:"mediainfojs"===n?Object(O.jsx)(J,{}):Object(O.jsx)(h,{})},n)})}),Object(O.jsx)("footer",{children:Object(O.jsxs)("p",{children:[Object(O.jsxs)("a",{href:"https://github.com/kamatsuoka/playlister",children:[Object(O.jsx)(l.a,{className:"fa-padded",icon:u.a,size:"lg"}),"GitHub"]}),Object(O.jsxs)("span",{className:"pull-right",children:[Object(O.jsx)(l.a,{flip:"horizontal",icon:b.b})," ",Object(O.jsx)("a",{href:"https://github.com/kamatsuoka",children:"kamatsuoka"})," 2021"]})]})})]})};n(39);s.a.render(Object(O.jsx)(G,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f98e3be9.chunk.js.map